function NewsList(){}NewsList.prototype.clickListen=function(){var n=$(".submit-btn"),s=$("textarea[name='comment']");n.click(function(){var e=s.val(),t=n.attr("data-news-id");myajax.post({url:"/news/public_comment/",data:{content:e,news_id:t},success:function(e){if(200===e.code){var t=e.data;console.log(t);var n=template("comment-item",{comment:t});$(".comment-list").prepend(n),window.messageBox.showSuccess("评论发表成功"),s.val("")}else window.messageBox.showError(e.message)}})})},NewsList.prototype.run=function(){this.clickListen()},$(function(){(new NewsList).run()});
//# sourceMappingURL=data:application/json;charset=utf8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbIm5ld3NfZGV0YWlsLmpzIl0sIm5hbWVzIjpbIk5ld3NMaXN0IiwicHJvdG90eXBlIiwiY2xpY2tMaXN0ZW4iLCJzdWJtaXRCdG4iLCIkIiwidGV4dEFyZWEiLCJjbGljayIsImNvbnRlbnQiLCJ2YWwiLCJuZXdzX2lkIiwiYXR0ciIsIm15YWpheCIsInBvc3QiLCJ1cmwiLCJkYXRhIiwic3VjY2VzcyIsInJlc3VsdCIsImNvbW1lbnQiLCJjb25zb2xlIiwibG9nIiwidHBsIiwidGVtcGxhdGUiLCJwcmVwZW5kIiwid2luZG93IiwibWVzc2FnZUJveCIsInNob3dTdWNjZXNzIiwic2hvd0Vycm9yIiwicnVuIiwidGhpcyJdLCJtYXBwaW5ncyI6IkFBQUEsU0FBU0EsWUFJVEEsU0FBU0MsVUFBVUMsWUFBYyxXQUM3QixJQUFJQyxFQUFZQyxFQUFFLGVBQ2RDLEVBQVdELEVBQUUsNEJBQ2pCRCxFQUFVRyxNQUFNLFdBQ1osSUFBSUMsRUFBVUYsRUFBU0csTUFDbkJDLEVBQVVOLEVBQVVPLEtBQUssZ0JBQzdCQyxPQUFPQyxLQUFLLENBQ1RDLElBQU8sd0JBQ1BDLEtBQVEsQ0FDSlAsUUFBV0EsRUFDWEUsUUFBV0EsR0FFZE0sUUFBVyxTQUFVQyxHQUNqQixHQUFzQixNQUFuQkEsRUFBYSxLQUFXLENBQ3ZCLElBQUlDLEVBQVVELEVBQWEsS0FDM0JFLFFBQVFDLElBQUlGLEdBQ1osSUFBSUcsRUFBTUMsU0FBUyxlQUFnQixDQUFDSixRQUFXQSxJQUN4QmIsRUFBRSxpQkFDUmtCLFFBQVFGLEdBQ3pCRyxPQUFPQyxXQUFXQyxZQUFZLFVBQzlCcEIsRUFBU0csSUFBSSxTQUVaZSxPQUFPQyxXQUFXRSxVQUFVVixFQUFnQixlQU9qRWhCLFNBQVNDLFVBQVUwQixJQUFNLFdBQ3JCQyxLQUFLMUIsZUFHVEUsRUFBRSxZQUNpQixJQUFJSixVQUNWMkIiLCJmaWxlIjoibmV3c19kZXRhaWwubWluLmpzIiwic291cmNlc0NvbnRlbnQiOlsiZnVuY3Rpb24gTmV3c0xpc3QoKSB7XG5cbn1cblxuTmV3c0xpc3QucHJvdG90eXBlLmNsaWNrTGlzdGVuID0gZnVuY3Rpb24oKSB7XG4gICAgdmFyIHN1Ym1pdEJ0biA9ICQoJy5zdWJtaXQtYnRuJyk7XG4gICAgdmFyIHRleHRBcmVhID0gJChcInRleHRhcmVhW25hbWU9J2NvbW1lbnQnXVwiKTtcbiAgICBzdWJtaXRCdG4uY2xpY2soZnVuY3Rpb24gKCkge1xuICAgICAgICB2YXIgY29udGVudCA9IHRleHRBcmVhLnZhbCgpO1xuICAgICAgICB2YXIgbmV3c19pZCA9IHN1Ym1pdEJ0bi5hdHRyKCdkYXRhLW5ld3MtaWQnKTtcbiAgICAgICAgbXlhamF4LnBvc3Qoe1xuICAgICAgICAgICAndXJsJzogJy9uZXdzL3B1YmxpY19jb21tZW50LycsXG4gICAgICAgICAgICdkYXRhJzoge1xuICAgICAgICAgICAgICAgJ2NvbnRlbnQnOiBjb250ZW50LFxuICAgICAgICAgICAgICAgJ25ld3NfaWQnOiBuZXdzX2lkXG4gICAgICAgICAgIH0sXG4gICAgICAgICAgICAnc3VjY2Vzcyc6IGZ1bmN0aW9uIChyZXN1bHQpIHtcbiAgICAgICAgICAgICAgICBpZihyZXN1bHRbJ2NvZGUnXSA9PT0gMjAwKSB7XG4gICAgICAgICAgICAgICAgICAgIHZhciBjb21tZW50ID0gcmVzdWx0WydkYXRhJ107XG4gICAgICAgICAgICAgICAgICAgIGNvbnNvbGUubG9nKGNvbW1lbnQpO1xuICAgICAgICAgICAgICAgICAgICB2YXIgdHBsID0gdGVtcGxhdGUoJ2NvbW1lbnQtaXRlbScsIHtcImNvbW1lbnRcIjogY29tbWVudH0pO1xuICAgICAgICAgICAgICAgICAgICB2YXIgY29tbWVudExpc3RHcm91cCA9ICQoXCIuY29tbWVudC1saXN0XCIpO1xuICAgICAgICAgICAgICAgICAgICBjb21tZW50TGlzdEdyb3VwLnByZXBlbmQodHBsKTtcbiAgICAgICAgICAgICAgICAgICAgd2luZG93Lm1lc3NhZ2VCb3guc2hvd1N1Y2Nlc3MoJ+ivhOiuuuWPkeihqOaIkOWKnycpO1xuICAgICAgICAgICAgICAgICAgICB0ZXh0QXJlYS52YWwoXCJcIik7XG4gICAgICAgICAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICAgICAgICAgICAgIHdpbmRvdy5tZXNzYWdlQm94LnNob3dFcnJvcihyZXN1bHRbJ21lc3NhZ2UnXSk7XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgfVxuICAgICAgICB9KTtcbiAgICB9KTtcbn07XG5cbk5ld3NMaXN0LnByb3RvdHlwZS5ydW4gPSBmdW5jdGlvbiAoKSB7XG4gICAgdGhpcy5jbGlja0xpc3RlbigpO1xufTtcblxuJChmdW5jdGlvbiAoKSB7XG4gICAgdmFyIG5ld3NMaXN0ID0gbmV3IE5ld3NMaXN0KCk7XG4gICAgbmV3c0xpc3QucnVuKCk7XG59KTtcbiJdfQ==
